base_path: '/mnt/c/Users/jerom/OneDrive/ETH/Semester Project/annotated_data.bak'
files:
  - '2018_01_18_16_02_20_736/2018_01_18_16_02_20_736.avi'
  - '2018_01_18_16_10_32_941/2018_01_18_16_10_32_941.avi'
  - '2018_01_18_16_14_38_512/2018_01_18_16_14_38_512.avi'
  - '2018_01_18_16_17_21_077/2018_01_18_16_17_21_077.avi'
  - '2018_01_18_12_42_56_973/2018_01_18_12_42_56_973.avi'
  - '2018_01_18_12_47_42_257/2018_01_18_12_47_42_257.avi'
  - '2018_01_18_12_51_23_562/2018_01_18_12_51_23_562.avi'
  - '2018_01_18_12_57_05_692/2018_01_18_12_57_05_692.avi'
  - '2018_01_18_13_01_17_229/2018_01_18_13_01_17_229.avi'
  - '2018_01_18_13_05_08_089/2018_01_18_13_05_08_089.avi'
  - '2018_01_18_13_10_39_252/2018_01_18_13_10_39_252.avi'
  - '2018_01_18_13_14_48_287/2018_01_18_13_14_48_287.avi'
  - '2018_01_18_13_18_40_675/2018_01_18_13_18_40_675.avi'
  - '2018_01_18_13_23_01_151/2018_01_18_13_23_01_151.avi'
  - '2018_01_18_13_26_24_671/2018_01_18_13_26_24_671.avi'
  - '2018_01_18_13_29_55_673/2018_01_18_13_29_55_673.avi'
  - '2018_01_18_13_34_40_503/2018_01_18_13_34_40_503.avi'
  - '2018_01_18_13_39_38_430/2018_01_18_13_39_38_430.avi'
  - '2018_01_18_13_45_22_022/2018_01_18_13_45_22_022.avi'
  - '2018_01_18_13_49_11_536/2018_01_18_13_49_11_536.avi'
  - '2018_01_18_13_57_44_300/2018_01_18_13_57_44_300.avi'
  - '2018_01_18_14_01_27_030/2018_01_18_14_01_27_030.avi'
  - '2018_01_18_14_05_42_251/2018_01_18_14_05_42_251.avi'
  - '2018_01_18_14_08_00_625/2018_01_18_14_08_00_625.avi'
  - '2018_01_18_14_11_19_285/2018_01_18_14_11_19_285.avi'
  - '2018_01_18_14_20_04_286/2018_01_18_14_20_04_286.avi'
  - '2018_01_18_14_28_33_555/2018_01_18_14_28_33_555.avi'
  - '2018_01_18_14_35_37_399/2018_01_18_14_35_37_399.avi'
  - '2018_01_18_14_44_04_548/2018_01_18_14_44_04_548.avi'
  - '2018_01_18_14_52_20_838/2018_01_18_14_52_20_838.avi'
  - '2018_01_18_15_01_55_268/2018_01_18_15_01_55_268.avi'
  - '2018_01_18_15_13_49_263/2018_01_18_15_13_49_263.avi'
  - '2018_01_18_15_24_14_272/2018_01_18_15_24_14_272.avi'
  - '2018_01_18_15_31_37_428/2018_01_18_15_31_37_428.avi'
  - '2018_01_18_15_38_12_288/2018_01_18_15_38_12_288.avi'
  - '2018_01_18_15_41_22_222/2018_01_18_15_41_22_222.avi'
  - '2018_01_18_15_44_18_638/2018_01_18_15_44_18_638.avi'
  - '2018_01_18_15_49_41_512/2018_01_18_15_49_41_512.avi'


module: run
class: DataPipeline
pipeline:
  - module: vmcode.vidproc.videoprocessing
    class: VideoProcessor
    init_params:
      caching: exact
      cache_location: cache
      cache_instance: all_1D_hist
    pipeline:
      - method: process
        params:
          process_options: hist:h_hist:s_hist:v
          label_tier: Turbidity
    # pipeline:
    #   - method: load_from_cache
    #     params:
    #       cache_location: cache
    #       cache_instance: all_1D_hist
  - method: aggregate_data
    params:
      once: True
  - module: vmcode.turbidityprediction.turbidityprediction
    external_functions: vmcode.turbidityprediction.turbidity_args
    pipeline:
      - method: predict_turbidity
        params:
          pred_len: 5
          predictor: '[fun] predictor'
          scaler: '[fun] scaler'
  - method: aggregate_data
    params:
      once: True
  - module: vmcode.turbidityprediction.write_to_file
    pipeline:
      - method: write_to_file
        params:
          base_path: base_path
